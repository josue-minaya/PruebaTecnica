<div>
 

  <div class="w-full justify-between flex items-center p-4 bg-gray-200">
    <h1>Listado de Productos</h1>
    <div class="float-right flex">
      <button class=" boton bg_boton m-2" (click)="descargarPDF()">
        Descargar Reporte
       </button>
       <button class="boton bg_boton m-2" (click)="toggleModal()">
         Nuevo Producto
       </button>
    </div>
   
  </div>



  <div class="flex-1 overflow-y-auto">
    <app-listado-producto></app-listado-producto>
  </div>
</div>

<section class="modal z-30" [ngClass]="{ 'modal--show': showModal }">
  <div class="modal__container">
    <button class="w-10 h-10 rounded-full ml-auto" (click)="toggleModal()">
      <mat-icon>close</mat-icon>
    </button>

    <h1 class="">Nuevo Producto</h1>

    <form (ngSubmit)="agregarProducto()" class="w-full" #productoForm="ngForm">
      <div class="form-group">
        <label for="nombre">Nombre Producto</label>
        <div class="input-div">
          <div class="i"><mat-icon>library_books</mat-icon></div>

          <input
            type="text"
            class="form-control"
            aria-describedby="nombre"
            placeholder="Nombre Producto"
            [(ngModel)]="nuevoProducto.nombre"
            name="nombre"
            class="border-none outline-none"
            required
        minlength="3"
        #nombre="ngModel" 

          />
        </div>
        <div *ngIf="nombre.invalid && nombre.touched" class="text-red-500">
          El nombre del producto es obligatorio y debe tener al menos 3 caracteres.
        </div>
      </div>
      <div class="form-group">
        <label for="precio">Precio</label>
        <div class="input-div">
          <div class="i"><mat-icon>money</mat-icon></div>

          <input
            type="number"
            class="form-control"
            placeholder="Precio"
            [(ngModel)]="nuevoProducto.precio"
            name="precio"
            class="border-none outline-none"
            required
        min="0"   
        #precio="ngModel"
          />
        </div>
        <div *ngIf="precio.invalid && precio.touched" class="text-red-500">
          El precio es obligatorio y debe ser mayor que 0.
        </div>
      </div>
      <div class="form-group">
        <label for="Cantidad">Cantidad</label>
        <div class="input-div">
          <div class="i"><mat-icon>library_books</mat-icon></div>

          <input
            type="number"
            class="form-control"
            aria-describedby="cantidad"
            placeholder="Cantidad"
            [(ngModel)]="nuevoProducto.cantidad"
            name="cantidad"
            class="border-none outline-none"
            required
        min="1" 
        #cantidad="ngModel"

          />
        </div>
        <div *ngIf="cantidad.invalid && cantidad.touched" class="text-red-500">
          La cantidad es obligatoria y debe ser mayor que 0.
        </div>
      </div>
      <div class="form-group">
        <label for="Descripcion">Descripción</label>
        <div class="input-div">
          <div class="i"><mat-icon>library_books</mat-icon></div>

          <input
            type="text"
            class="form-control"
            aria-describedby="descripcion"
            placeholder="Descripción"
            [(ngModel)]="nuevoProducto.descripcion"
            name="Descripcion"
            class="border-none outline-none"
            required
        minlength="5"
        #descripcion="ngModel"

          />
        </div>
        <div *ngIf="descripcion.invalid && descripcion.touched" class="text-red-500">
          La descripción es obligatoria y debe tener al menos 5 caracteres.
        </div>
      </div>
      <input
        type="submit"
        class="bg_boton boton float-right"
        [disabled]="productoForm.invalid"
        value="Registrar"
      />
    </form>
  </div>
</section>
